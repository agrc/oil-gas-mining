<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

    <script type="text/javascript">
        djConfig = {
            parseOnLoad: true,
            isDebug: false,
            debugAtAllCosts: true,
            usePlainJson: true,
            enableMozDomContentLoaded: true,
            baseUrl: "../../",
            dojoBlankHtmlUrl: './blank.htm',
            modulePaths: { "agrc": "../agrc" }
        };
    </script>

    <script type="text/javascript" src="http://serverapi.arcgisonline.com/jsapi/arcgis/?v=2.2"></script>

    <title>TEST: AGRC Legislator Widget Test</title>
    <link rel='stylesheet' type='text/css' href='http://serverapi.arcgisonline.com/jsapi/arcgis/2.2/js/dojo/dijit/themes/claro/claro.css'>
    <style type="text/css">
        @import '../../themes/standard/agrc.css';
    </style>
    <style type="text/css">
        html, body
        {
            width: 100%;
            height: 100%;
            margin: 0;
        }
    </style>
</head>
<body class="claro" style="width: 75%">
    <p>
        <button id="publish">
            Fake geocode publish</button>
    </p>
    <div id="test" style="height: auto; width: 150px; border: solid 1px Black">
    </div>
    <br />
    <br />
    <br />
    <table id="results">
        <tr>
            <td style="width: 33%;">
                <div id="test1">
                </div>
            </td>
            <td style="width: 33%;">
                <div id="test2">
                </div>
            </td>
            <td style="width: 33%;">
                <div id="test3">
                </div>
            </td>
        </tr>
    </table>
    <br />
    <br />
    <br />
    <table>
        <tr>
            <td>
                Republican Senator Example
            </td>
            <td>
                Democat Representative Example
            </td>
        </tr>
        <tr>
            <td style="width: 49%;">
                <div id="Div1">
                </div>
            </td>
            <td style="width: 49%;">
                <div id="Div2">
                </div>
            </td>
        </tr>
    </table>
</body>
</html>

<script type="text/javascript">
    dojo.require("agrc.widgets.locate.LegislatorLookup");
    dojo.require("agrc.widgets.locate.LegislatorDetails");

    dojo.addOnLoad(function()
    {
        console.log(this.declaredClass + "::" + arguments.callee.nom, arguments);

        dojo.connect(dojo.byId("publish"), "onclick", publishTestData);
        var test2 = new agrc.widgets.locate.LegislatorDetails({ listenFor: "OnFindHouse" }, "test1");
        var test2 = new agrc.widgets.locate.LegislatorDetails({ listenFor: "OnFindRepresentative" }, "test2");
        var test3 = new agrc.widgets.locate.LegislatorDetails({ listenFor: "OnFindSenator" }, "test3");

        var test = new agrc.widgets.locate.LegislatorLookup({ displayDefault: false }, 'test');

        new agrc.widgets.locate.LegislatorDetails({ type: 1, partyAbbreviation: "R", districtNumber: 1, name: "Elephant", email: "elephant@elephant.org", href: "http://url.com", src: "http://t2.gstatic.com/images?q=tbn:4fPmVuG7-yscNM:http://stickerfight.com/images/elephant4.jpg&t=1" }, "Div1");
        new agrc.widgets.locate.LegislatorDetails(
        {
            type: 2,
            partyAbbreviation: "D",
            districtNumber: 1,
            name: "Donkey",
            email: "donkey@donkey.org",
            href: "http://url.com",
            src: "http://www.circlestickers.com/images/donkey3.jpg"
        }, "Div2");
    });

    function publishTestData()
    {
        dojo.publish("agrc.widgets.locate.LegislatorLookup.OnFindRepresentative", [{ type: 1, partyAbbreviation: "R", districtNumber: 1, name: "Elephant", email: "elephant@elephant.org", href: "http://url.com", src: "http://t2.gstatic.com/images?q=tbn:4fPmVuG7-yscNM:http://stickerfight.com/images/elephant4.jpg&t=1"}]);
    }

</script>

