<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <title>TEST: Find Generic</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <meta name="description" content="agrc.widgets.locate.FindGeneric Test" />
    <meta name="keywords" content="agrc.widgets.locate.FindGeneric, find generic, tests, test, javascript" />
    <link rel="stylesheet" type="text/css" href="jasmine-1.0.1/jasmine.css">
    <link rel='stylesheet' href='http://serverapi.arcgisonline.com/jsapi/arcgis/2.4/js/dojo/dijit/themes/claro/claro.css'>
    <style type='text/css'>
        @import '../../themes/standard/agrc.css';
        html, body, #masterBc {
            width: 100%;
            height: 95%;
            border: 0;
            padding: 0;
            margin: 0;
        }
        
        #right, #left {
            width: 49%;
        }
    </style>
    <!-- JASMINE REFERENCES -->
    <script type="text/javascript" src="jasmine-1.0.1/jasmine.js"></script>
    <script type="text/javascript" src="jasmine-1.0.1/jasmine-html.js"></script>
    <!-- SPEC FILES -->
    <script type="text/javascript" src="spec/SpecFindGeneric.js"></script>
    <!-- DOJO REFERENCES -->
    <script type='text/javascript'>
        dojoConfig = {
            isDebug: true,
            debugAtAllCosts: true,
            parseOnLoad: true,
            baseUrl: './',
            modulePaths: {
                'agrc': '../../'
            }
        };
    </script>
    <script type='text/javascript' src='http://serverapi.arcgisonline.com/jsapi/arcgis/?v=2.4'></script>
    <script type='text/javascript'>
        dojo.require('dijit.layout.BorderContainer');
        dojo.require('dijit.layout.ContentPane');

        dojo.require('agrc.widgets.locate.FindGeneric');

        function init() {
            dojo.global.base = new esri.layers.ArcGISTiledMapServiceLayer("//mapserv.utah.gov/ArcGIS/rest/services/UtahBaseMap-Vector/MapServer", { id: "vector", visible: true });

            map = new esri.Map("left");
            map.addLayer(base);

            //create FindGeneric widgets
            var x = new agrc.widgets.locate.FindGeneric({
                map: map,
                layerName: 'SGID93.BOUNDARIES.Counties',
                searchFieldName: 'NAME',
                displayDropDownArrow: true
            }, 'test1');

            var y = new agrc.widgets.locate.FindGeneric({
                map: map,
                layerName: 'SGID93.BOUNDARIES.Municipalities',
                searchFieldName: 'NAME',
                label: 'Cities',
                fieldLabel: 'Name'
            }, 'test2');

            //run tests
            jasmine.getEnv().addReporter(new jasmine.TrivialReporter());
            jasmine.getEnv().execute();
        }

        dojo.ready(init);
    </script>
</head>
<body class="claro">
    <div dojotype="dijit.layout.BorderContainer" id="masterBc" class="agrc">
        <div dojotype="dijit.layout.ContentPane" region="top">
            <p>
                Test for the agrc.widgets.locate.FindGeneric.
            </p>
        </div>
        <div dojotype="dijit.layout.ContentPane" region="leading" id="left">
        </div>
        <div dojotype="dijit.layout.ContentPane" region="trailing" id="right">
            <div>
                <div id="test1">
                </div>
                <div id="test2">
                </div>
            </div>
        </div>
    </div>
</body>
</html>
